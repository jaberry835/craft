# =============================================================================
# AgentChatV2 Backend Configuration
# Copy this file to .env and configure for your environment
# =============================================================================
# 
# AZURE CLOUD ENVIRONMENTS
# This application supports both Azure Commercial and Azure Government.
# Update the following settings based on your cloud:
#
# AZURE COMMERCIAL:
#   AZURE_AUTHORITY_HOST=https://login.microsoftonline.com
#   AZURE_COGNITIVE_SERVICES_SCOPE=https://cognitiveservices.azure.com/.default
#   Endpoints use: .azure.com, .windows.net, .documents.azure.com
#
# AZURE GOVERNMENT:
#   AZURE_AUTHORITY_HOST=https://login.microsoftonline.us
#   AZURE_COGNITIVE_SERVICES_SCOPE=https://cognitiveservices.azure.us/.default
#   Endpoints use: .azure.us, .windows.us, .documents.azure.us
#
# =============================================================================

# Flask/FastAPI Settings
ENVIRONMENT=development
LOG_LEVEL=INFO

# =============================================================================
# Logging Toggles
# Enable verbose logging for specific categories. Set to true/false.
# Keeping these false keeps logs clean for debugging.
# =============================================================================
SHOW_PERFORMANCE_LOGS=false  # Detailed timing for AOAI, MCP, CosmosDB, etc.
SHOW_AUTH_LOGS=false         # Token validation, header processing
SHOW_A2A_LOGS=false          # A2A discovery, calls, responses
SHOW_MCP_LOGS=false          # MCP headers, discovery, tool calls
SHOW_AGENT_LOGS=false        # Agent execution, tool calls, chatter events

# Azure Government Endpoints
AZURE_AUTHORITY_HOST=https://login.microsoftonline.us

# Microsoft Entra ID (for token validation)
# Note: Authentication uses managed identity in production, Azure CLI locally
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id

# =============================================================================
# Azure OpenAI (Azure Government)
# Use AZURE_OPENAI_KEY for local dev, managed identity will be used in production
# NOTE: Model/deployment is configured per-agent in the Admin UI.
#       Each agent MUST have a deployment name set (e.g., gpt-4o, gpt-35-turbo).
#       The embedding deployment below is used for document search/RAG.
# =============================================================================
AZURE_OPENAI_ENDPOINT=https://your-openai.openai.azure.us/
AZURE_OPENAI_KEY=your-openai-api-key
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002

# Azure Cognitive Services token scope (for managed identity auth)
# Azure Commercial: https://cognitiveservices.azure.com/.default
# Azure Government: https://cognitiveservices.azure.us/.default
AZURE_COGNITIVE_SERVICES_SCOPE=https://cognitiveservices.azure.us/.default

# =============================================================================
# Azure Cosmos DB
# Use CONNECTION_STRING for local dev, ENDPOINT with managed identity for production
# =============================================================================
AZURE_COSMOS_DB_CONNECTION_STRING=AccountEndpoint=https://your-cosmos.documents.azure.us:443/;AccountKey=your-account-key;
AZURE_COSMOS_DB_ENDPOINT=
AZURE_COSMOS_DB_DATABASE=AgentChatV2
AZURE_COSMOS_DB_AGENTS_CONTAINER=Agents
AZURE_COSMOS_DB_SESSIONS_CONTAINER=Sessions
AZURE_COSMOS_DB_MESSAGES_CONTAINER=Messages

# =============================================================================
# Azure AI Search (for document embeddings)
# Use AZURE_SEARCH_KEY for local dev, managed identity will be used in production
# =============================================================================
AZURE_SEARCH_ENDPOINT=https://your-search.search.windows.us
AZURE_SEARCH_KEY=your-search-admin-key
AZURE_SEARCH_INDEX_NAME=documents

#if you add agents, they will have the url in cosmodb for this, so change accordingly
# MCP Server Configuration
MCP_SERVER_ENDPOINT=https://your-mcp-server.azurewebsites.us/mcp/

# =============================================================================
# Backend URL (for A2A agent-to-agent communication)
# This is the URL where this backend is accessible. Used for internal A2A calls.
# Local dev: http://localhost:5000 (default, can be omitted)
# Production: Set to the deployed App Service URL
# =============================================================================
BACKEND_URL=http://localhost:5000

# Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING=

# Token Limits (for cost estimation)
DEFAULT_MAX_INPUT_TOKENS=8000
DEFAULT_MAX_OUTPUT_TOKENS=4000
TOKEN_COST_WARNING_THRESHOLD=10000
